{% if not profiles %}
<div class="alert-box error">
    No profiles found.
</div>
{% endif %}
{% if profiles.succeeded %}
    <div class="alert-box success">
        <ul>
            {% for profile in profiles.succeeded %}
                <li><em>{{ profile.name }}</em>: <strong>OK</strong></li>
            {% endfor %}
        </ul>
    </div>
{% endif %}
{% if profiles.failed %}
    <div class="alert-box error">
        <ul>
            {% for profile in profiles.failed %}
                <li>
                <div>
                    <em>
                        {% if profile.url %}
                            <a href="{{ profile.url }}" title="View profile details">{{ profile.name }}</a>
                        {% else %}
                            {{ profile.name }}
                        {% endif %}
                    </em>
                    <span>failed</span>
                    {% if profile.custom_error == 'UnicodeDecodeError' %}
                        <span>
                            , perhaps because of non-ASCII characters in the sysLocation field.
                            <br><br><strong>sysLocation:</strong> {{ profile.syslocation }}
                        </span>
                    {% endif %}
                </div>
                    <div>
                        <br>
                        <span>Error message:</span>
                        {% if profile.error_message %}
                            {{ profile.error_message }}
                        {% else %}
                            Unknown
                        {% endif %}
                    </div>
                </li>
            {% endfor %}
        </ul>
    </div>
{% endif %}

<script id="remove-me">
    document.querySelector("#seeddb-netbox-form").classList.remove("loading")
    document.querySelector("#remove-me").remove()
</script>
